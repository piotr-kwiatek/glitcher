{"version":3,"sources":["app.js"],"names":["Glitcher","opts","address","image","active","options","Object","assign","imageNameLikeSite","imageName","folderPath","fileExtension","alternateText","pointerEvents","lowerOpacityKeyCode","higherOpacityKeyCode","resetOpacityKeyCode","opacityJump","defaultOpacity","checkValues","getCurrentAddress","setImage","setImageDefaultStyles","setToggleImageEvent","bindOpacityKeys","Error","tmp","window","location","pathname","split","length","replace","document","createElement","alt","src","style","display","body","appendChild","position","top","left","transform","zIndex","opacity","addEventListener","toggleImage","bind","parseFloat","event","keyCode","setLowerOpacity","setHigherOpacity","glitcher"],"mappings":"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","file":"all.js","sourcesContent":["/* \r\nGlitcher Plugin\r\nCreated by Piotr Kwiatek\r\n*/\r\n\r\n(function() {\r\n\r\n    class Glitcher {\r\n        constructor(opts) {\r\n            this.address = null;\r\n            this.image = null;\r\n\r\n            this.active = false;\r\n\r\n            this.options = Object.assign({}, {\r\n                imageNameLikeSite: true,\r\n                imageName: null,\r\n                folderPath: '',\r\n                fileExtension: 'jpg',\r\n                alternateText: 'glitcher',\r\n                pointerEvents: false,\r\n                lowerOpacityKeyCode: 49,\r\n                higherOpacityKeyCode: 50,\r\n                resetOpacityKeyCode: 51,\r\n                opacityJump: 0.15,\r\n                defaultOpacity: 0.5\r\n            }, opts);\r\n\r\n            this.checkValues();\r\n\r\n            this.getCurrentAddress();\r\n            this.setImage();   \r\n            this.setImageDefaultStyles();\r\n            this.setToggleImageEvent();\r\n            this.bindOpacityKeys();\r\n        }\r\n\r\n        checkValues() {\r\n            if (this.options.opacityJump >= 1 || this.options.opacityJump <= 0) {\r\n                throw new Error('Nieprawidłowa wartość zmiany właściwości Opacity.');\r\n            }\r\n            if (this.options.defaultOpacity >= 1 || this.options.defaultOpacity <= 0) {\r\n                throw new Error('Nieprawidłowa wartość domyślnej wartości właściwości Opacity.');\r\n            }\r\n        }\r\n        \r\n        getCurrentAddress() {\r\n            let tmp = window.location.pathname.split('/');\r\n            this.address = tmp[tmp.length - 1].replace(/\\.[^/.]+$/, \"\");\r\n        }\r\n        \r\n        setImage() {\r\n            this.image = document.createElement('img');\r\n            this.image.alt = this.options.alternateText;\r\n            if (this.options.imageNameLikeSite) {\r\n                this.image.src = this.options.folderPath + this.address + '.' + this.options.fileExtension;\r\n            }   \r\n            else {\r\n                this.image.src = this.options.folderPath + this.options.imageName + '.' + this.options.fileExtension;\r\n            }\r\n            this.image.style.display = 'none';\r\n            document.body.appendChild(this.image);\r\n        }\r\n\r\n        setImageDefaultStyles() {\r\n            this.image.style.position = 'absolute';\r\n            this.image.style.top = '0';\r\n            this.image.style.left = '50%';\r\n            this.image.style.transform = 'translateX(-50%)';\r\n            this.image.style.zIndex = '999';\r\n            this.image.style.opacity = this.options.defaultOpacity;\r\n            if (!this.options.pointerEvents) {\r\n                this.image.style.pointerEvents = 'none';\r\n            }\r\n        }\r\n        \r\n        toggleImage() {\r\n            this.image.style.display = this.image.style.display === 'none' ? 'block' : 'none';\r\n            this.active == false ? this.active = true : this.active = false;\r\n        }\r\n\r\n        setToggleImageEvent() {\r\n            document.addEventListener('click', function(){\r\n                this.toggleImage();\r\n            }.bind(this));\r\n        }\r\n\r\n        setLowerOpacity() {\r\n            if (this.active) {\r\n                if (parseFloat(this.image.style.opacity) > this.options.opacityJump) {\r\n                    this.image.style.opacity = parseFloat(this.image.style.opacity) - this.options.opacityJump;\r\n                }\r\n                else {\r\n                    this.image.style.opacity = 0.05;\r\n                }\r\n            }\r\n        }\r\n\r\n        setHigherOpacity() {\r\n            if (this.active) {\r\n                if (parseFloat(this.image.style.opacity) + this.options.opacityJump < 1) {\r\n                    this.image.style.opacity = parseFloat(this.image.style.opacity) + this.options.opacityJump;\r\n                }\r\n                else {\r\n                    this.image.style.opacity = 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        bindOpacityKeys() {\r\n            document.addEventListener('keydown', function() {\r\n                if (event.keyCode == this.options.lowerOpacityKeyCode) {\r\n                    this.setLowerOpacity();\r\n                }\r\n                else if (event.keyCode == this.options.higherOpacityKeyCode) {\r\n                    this.setHigherOpacity();\r\n                }\r\n                else if (event.keyCode == this.options.resetOpacityKeyCode) {\r\n                    this.image.style.opacity = this.options.defaultOpacity;\r\n                }\r\n            }.bind(this));\r\n        }\r\n\r\n    }\r\n\r\n    const glitcher = new Glitcher();\r\n\r\n})();\r\n"]}